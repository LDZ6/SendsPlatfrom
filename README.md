# 华侨大学桑梓微助手 - 部分后端服务

## 项目概述

**项目名称**：华侨大学桑梓微助手（部分后端服务）  
**项目链接**：[GitHub 仓库](https://github.com/LDZ6/SendsPlatfrom)  
**项目起始时间**：2024 年 07 月 - 至今  
**项目简介**：本项目是一个微信公众号的部分后端服务，提供了多个微服务，包括教务处、博饼游戏、用户管理及年度账单服务。

## 功能模块

### 1. 教务处微服务
- 提供学生课表、成绩、学分等信息查询。
- 采用 `goroutine` 进行多线程爬虫爬取，提高数据获取和处理效率。

### 2. 博饼游戏微服务
- 线上举办福建当地的中秋节博饼活动。
- 采用 `Zset` 数据结构存储和排序用户分数，提高查询效率。
- 使用 `AES` 加密用户敏感信息，保障数据安全和隐私。
- 实现排行榜及实时播报功能。

### 3. 年度总结微服务
- 爬取用户消费记录并生成年度报告。
- 采用 `RabbitMQ` 作为消息中间件，实现异步处理、削峰填谷、解耦。
- 采用 `多线程爬虫` 爬取学校相关 API，提高爬取效率。
- 采用 `WebSocket` 实现用户数据加载进度的实时展示，提高用户体验。

### 4. 用户微服务
- 负责登录身份校验及部分微信公众号官方功能。
- 针对不同用户群体（公众、在校生、校友）提供不同微服务，满足个性化需求。

### 5. 网关服务
- 采用自定义 `令牌桶` 算法对部分接口进行限流，防止系统过载，提升稳定性。

## 技术栈
- **后端框架**：Gin（Go 语言的 Web 框架）
- **数据库**：MySQL（关系型数据库）、Redis（缓存与存储）
- **ORM 框架**：Gorm（Go 语言的 ORM 框架）
- **消息队列**：RabbitMQ（异步处理、削峰填谷）
- **服务发现与注册**：Etcd
- **微服务通信**：gRPC
- **API 文档**：Swagger
- **容器化**：Docker Compose
- **微信公众号开发**：微信公众号 API
- **数据爬取**：多线程爬虫
- **安全加密**：AES 数据加密
- **并发控制**：令牌桶限流、自定义 Goroutine 池

## 项目架构
本项目采用 **微服务架构** 进行设计，各个服务独立运行，通过 `gRPC` 进行高效通信，同时结合 `RabbitMQ` 进行异步消息处理，`Redis` 提供缓存加速。整体架构如下：

1. **微服务模块**：教务处、博饼游戏、用户管理、年度总结等。
2. **数据存储**：MySQL 存储核心业务数据，Redis 作为缓存。
3. **消息队列**：RabbitMQ 实现异步任务处理。
4. **网关限流**：采用令牌桶算法，防止 API 过载。
5. **安全保障**：AES 加密用户数据，保证数据隐私。

## 部署与运行
### 1. 依赖环境
- Go 1.18 及以上
- MySQL 8.0 及以上
- Redis 6.0 及以上
- Docker & Docker Compose
- RabbitMQ
- Etcd

### 2. 运行步骤
1. 克隆仓库：
   ```bash
   git clone https://github.com/jiuchengyouni/SendsPlatfrom.git
   cd SendsPlatfrom
   ```
2. 启动 `Docker Compose` 运行相关服务：
   ```bash
   docker-compose up -d
   ```
3. 运行微服务：
   ```bash
   go run main.go
   ```

## 项目收获
本项目让我深入理解了微服务架构的设计与实现，同时提升了以下能力：
- 关系型数据库（MySQL）与非关系型数据库（Redis）的优化与应用。
- 高效的数据爬取与并发控制，提高爬取速度和准确性。
- 微服务架构下的安全设计，如数据加密、限流保护。
- 微信公众号开发技能，包括身份校验、用户交互等。

本项目不仅为全校师生提供了便捷的教学与生活服务，还收获了广泛好评。同时，也让我深刻体会到编程的乐趣，以及技术对实际生活的积极影响。

## 贡献
如果你对本项目感兴趣，欢迎提出 `Issue` 或 `Pull Request`，共同优化和完善本项目。

## 许可证
本项目遵循 MIT 许可证，详情请见 [LICENSE](./LICENSE) 文件。

